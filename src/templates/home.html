{% extends 'base.html' %}
{% block title %}Home â€“ NBA Fantasy{% endblock %}

{% block content %}
  <h1 class="text-center mb-4">Welcome to NBA Fantasy Calculator</h1>

  <div
    id="seasonCarousel"
    class="carousel slide"
    data-bs-interval="false"
  >
    <div class="carousel-inner text-center">
      {% for s in seasons %}
      <div class="carousel-item {% if loop.first %}active{% endif %}">
        <a href="/season/{{ s|replace('/', '-') }}" class="btn btn-primary btn-lg">
          Season {{ s }}
        </a>
      </div>
      {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button"
            data-bs-target="#seasonCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button"
            data-bs-target="#seasonCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize the carousel with no auto-cycle
      var carouselEl = document.getElementById('seasonCarousel');
      var carousel = new bootstrap.Carousel(carouselEl, {
        interval: false
      });

      // Global keydown listener for left/right arrows
      document.addEventListener('keydown', function(event) {
        if (event.key === 'ArrowLeft') {
          carousel.prev();
        } else if (event.key === 'ArrowRight') {
          carousel.next();
        }
      });
    });
  </script>
{% endblock %}
